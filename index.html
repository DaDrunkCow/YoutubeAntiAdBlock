<!DOCTYPE html>
<html>
<head>
    <title>YOUTUBE WILL LOSE</title>
    <style>
        body
        {
            background-color:rgb(15,15,15);
            overflow:hidden;
            margin:0px;
            padding:0px;
            padding-right:20px;
        }
        .wholeContainer
        {
            display:grid;
            grid-template-rows:2fr 25fr;
            gap:20px;
            width:100%;
            height:100%;
        }
        .inputContainer
        {
            display:grid;
            grid-template-columns:10fr 1fr;
            gap:10px;
            width:100%;
            height:100%;
            padding:10px;
        }
        .theBestFont
        {
            font-family:monospace;
            font-size:large;
            color:white;
        }
        input[type=text]
        {
            
            background-color:rgb(18,18,18);
            border-width:2px;
            border-color:rgb(48,48,48);
            border-radius:5px;
            padding-top:5px;
            padding-bottom:5px;
            padding-left:13px;
            padding-right:13px;
        }
        button
        {
            background-color:rgb(34,34,34);
            border-width:2px;
            border-color:rgb(48,48,48);
            border-radius:5px;
            padding-top:5px;
            padding-bottom:5px;
            padding-left:13px;
            padding-right:13px;
        }
        button:hover
        {
            background-color:rgb(41,41,41);
        }
        iframe
        {
            border-width:0px;
            width:100%;
            height:100%;
            border-radius:5px;
        }
    </style>
</head>
<body>
    <div class="wholeContainer">
        <div class="inputContainer">
            <input id="link" name="link" type="text" class="theBestFont" placeholder="Youtube url...">
            <button id="push" class="theBestFont" onclick="changeVideo()">Watch</button>
        </div>
        <iframe id="video" src="" style="padding-left:10px;" allow="fullscreen;"></iframe>
    </div>
</body>
</html>

<script>
    document.getElementById("link").addEventListener("keypress", function(e)
    {
        if (e.keyCode === 13)
        {
            e.preventDefault();
            document.getElementById("push").click();
        }
    });

    function changeVideo()
    {
        const URL_START = "https://www.youtube.com/embed/";
        let str = document.getElementById("link").value;
        /*
         * scroll from left to right until first '=' 
         * stop at first '&'
         */
        let a = null;
        let b = null;
        for (let i = 0; i < str.length; i++)
        {
            if (a == null && str.charAt(i) == '=')
            {
                a = i;
            }
            if (b == null && str.charAt(i) == '&')
            {
                b = i;
            }
        }
        let data = URL_START.concat(str.slice(a + 1, (b != null) ? b : str.length));
        console.log(data);
        document.getElementById("video").src = data;
    }
</script>